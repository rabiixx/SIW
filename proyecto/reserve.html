<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Reserva</title>

	<!-- BOOTSTRAP CDN -->
	<link rel="stylesheet" href="css/bootstrap.min.css">

	<!-- Font Awesome Kit -->
	<script src="https://kit.fontawesome.com/a41a314d19.js" crossorigin="anonymous"></script>

	<!-- JQUERY UI CSS -->
	<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

	<!-- JQUERY UI THEME -->
	<link rel="stylesheet" href="css/jquery-ui.css">

	<link href="https://fonts.googleapis.com/css2?family=Gotu&display=swap" rel="stylesheet">

	<!-- SLICK JS - SLIDER -->
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>

	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>

	<!-- jQuery LightGallery -->
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.12/css/lightgallery.css">

	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.12/css/lg-transitions.css">
	
</head>
<body>

	<style>
		
		.container-fluid {
			width: 70%;
		}

		.page-wrapper {
			width: 100%;
		}

		#carouselExampleInterval {
			margin: 0px auto;
		}

		.thumbnail-slider {
			position: relative;
			height: 100%;
			width: 100%;
			margin-top: 10px;
			text-align: center;
			/*border: 1px solid green;*/
		}

		.thumbnail-slider .thumbnail-wrapper {
			width: 760px;
			height: 150px;
			margin: 0px auto;
			/*border: 1px solid brown;*/
		}

		.thumbnail-slider .thumbnail-wrapper img {
			height: 120px;
			width: 160px;
			display: inline-block;
			border-radius: 15px;
			cursor: pointer;
			box-shadow: 6px 6px 8px #778ca3; 
			margin-top: 15px;
			margin-bottom: 15px;
			transition: transform 0.5s;
		}

		.thumbnail-wrapper img:hover {
			-webkit-transform: scale(1.1);
        	-ms-transform: scale(1.1);
        	transform: scale(1.1);
		}

		/* Next Slide Arrow */
		.thumbnail-slider .next {
			position: absolute;
			top: 40%;
			font-size: 2em;
			right: 10px;
			cursor: pointer;
			color: #ffa812;
		}
		
		/* Previous Slide Arrow */
		.thumbnail-slider .prev {
			position: absolute;
			top: 40%;
			font-size: 2em;
			left: 10px;
			cursor: pointer;
			color: #ffa812;
		}

		.disabled-arrow {
			opacity: 0.5;
		}
		
		/* Custom Slider Bottom Buttons */
		.thumbnail-wrapper .slick-dots li.slick-active button::before {
    		color: #ff7e00;
    		opacity: 0.8;
  		}

 		.thumbnail-wrapper .slick-dots li button:before {
	        font-size: 12px;
	        line-height: 15px;
	        top: 5px;
	        color: #ff7e00;
	        opacity: 0.5;
    	}

    	.slick-slide {
    		margin: 0px 15px;
    	}
    	
    	.thumbnail-wrapper .slick-list {
   	 		padding: 0px 15px;
  		}

		.carousel {
			width: 800px;
			height: 500px;
		}

  		.carousel-inner a img {
			width: 800px;
			height: 500px;
  		}

  		.carousel-control-prev-icon{
    		font-size: 100px; 
    		margin-top: 50px;
    		color:red;				
		}

		.carousel .fa-chevron-left {
			position: absolute;
			top: 50%;
			font-size: 35px;
			left: -50px;
			cursor: pointer;
			color: #273c75;
			transition: transform 0.4s;
		}

		.carousel .fa-chevron-right {
			position: absolute;
			top: 50%;
			font-size: 35px;
			right: -50px;
			cursor: pointer;
			color: #273c75;
			transition: transform 0.4s;
		}

		.carousel .fa-chevron-right:hover {
			-webkit-transform: rotateZ(-360deg);
       	 	-ms-transform: rotateZ(-360deg);
        	transform: rotateZ(-360deg);
		}

		.carousel .fa-chevron-left:hover {
			-webkit-transform: rotateZ(360deg);
       	 	-ms-transform: rotateZ(360deg);
        	transform: rotateZ(360deg);
		}

		.navbar {
			box-shadow: 4px 4px 6px #778ca3; 
		}

	</style>

	<div data-include="navbar"></div>

	<div class="container-fluid d-flex justify-content-center">
		
		<div class="row">
			<div class="col-8">
				<img src="##ImagenRestaurante##" alt="imagenRestaurante">
				
				<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top mt-3" id="miniNav">
				  	<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
				    	<div class="navbar-nav">
				      		<a class="nav-item nav-link active" href="#navbar">Resumen</a>
							<a class="nav-item nav-link" href="#menu">Menú</a>
							<a class="nav-item nav-link" href="#ubicacion">Ubicacion</a>
							<a class="nav-item nav-link" href="#listaOpiniones">Opiniones</a>
						</div>
					</div>
				</nav>

				<button id="jsPDF" class="btn btn-warning mt-3">PDF</button>


				<h1 style="font-family: 'Gotu', sans-serif; font-weight: bold; color:#2D333F; padding-top: 30px;" class="mt-3" id="resumen">##NombreRestaurante##</h1>
				

				<hr width="99%" class="my-3">
				<div class="d-inline mr-2"><i class="fas fa-money-bill mr-2 d-inline"></i><h5 class="d-inline">30 - 40$</h5></div>
				<div class="d-inline mx-2"><i class="far fa-comments mr-2 d-inline"></i><h5 class="d-inline">180 reseñas</h5></span></div>
				<div class="d-inline mx-2"><i class="fas fa-utensils mr-2 d-inline"></i><h5 class="d-inline">Tradicional</h5></div>
				<p class="mt-4" style="font-family: 'Montserrat', sans-serif; color:#2D333F">Este sofisticado restaurante inspirado en los años 20, con cocina española actual, música en directo y coctelería excepcional, se ha convertido en uno de los más apetecidos de la capital (está siempre a reventar, por algo será…). Su carta pretende ser embajadora de la marca España por lo que no faltan platos como el jamón de bellota, las anchoas de Santoña, el salmorejo cordobés o el pulpo a la brasa. En los postres, un buen arroz con leche como se hace en Asturias o unas natillas con galleta son perfectos para terminar de llenar el estómago.</p>

				<h3 style="font-family: 'Gotu', sans-serif; font-weight: bold; color:#2D333F; padding-top: 70px;" class="mt-5" id="menu">Imagenes</h3>
				<hr width="99%" class="my-3">

				<div class="page-wrapper">
					<div id="carouselExampleInterval" class="carousel slide" data-interval="false" data-ride="carousel">
						<!-- <ol class="carousel-indicators">
						    <li data-target="#carouselExampleInterval" data-slide-to="0" class="active"></li>
						    <li data-target="#carouselExampleInterval" data-slide-to="1"></li>
						    <li data-target="#carouselExampleInterval" data-slide-to="2"></li>
						 </ol> -->
				  		<div class="carousel-inner custom-events">
				    		<a href="img/res1.png" class="carousel-item active"> 			
						    	<img src="img/res1.png"/>
							</a>
							<a href="img/res2.jpg" class="carousel-item"> 			
						    	<img src="img/res2.jpg"/>
							</a>	
							<a href="img/res3.jpg" class="carousel-item"> 			
						    	<img src="img/res3.jpg"/>
							</a>
							<a href="img/res4.jpg" class="carousel-item"> 			
						    	<img src="img/res4.jpg"/>
							</a>	
							<a href="img/res5.jpg" class="carousel-item"> 			
						    	<img src="img/res5.jpg"/>
							</a>	
							<a href="img/res6.jpg" class="carousel-item"> 			
						    	<img src="img/res6.jpg"/>
							</a>			    		
				  		</div>
				  		<a class="carousel-control-prev" href="#carouselExampleInterval" role="button" data-slide="prev">
				  			<i class="fas fa-chevron-left prev"></i>
				    		
				  		</a>
				  		<a class="carousel-control-next" href="#carouselExampleInterval" role="button" data-slide="next">
				    		<i class="fas fa-chevron-right next"></i>
				  		</a>
					</div>
				<!-- </div> -->
					
					<div class="thumbnail-slider">
						<i class="fas fa-chevron-right next"></i>
						<i class="fas fa-chevron-left prev disabled-arrow"></i>

						<div class="thumbnail-wrapper" id="thumbnail-album">
							<img src="img/res1.png" name="Bocatas">
							<img src="img/res2.jpg" name="Cafe">
							<img src="img/res3.jpg" name="Española">
							<img src="img/res4.jpg" name="Hamburguesas">
							<img src="img/res5.jpg" name="Sidreria">
							<img src="img/res6.jpg" name="Mexicana">
						</div>
					</div>	

				</div>



				<h3 style="font-family: 'Gotu', sans-serif; font-weight: bold; color:#2D333F; padding-top: 70px;" class="mt-5" id="menu">Menú</h3>
				<hr width="99%" class="my-3">


			<div id="ubi">
				<h3 style="font-family: 'Gotu', sans-serif; font-weight: bold; color:#2D333F; padding-top: 70px;" class="mt-5 mb-3" id="ubicacion">Ubicacion</h3>		
				<hr width="99%">		
				<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2927.0892723762554!2d-1.674988284180959!3d42.80759951471261!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd50927932f78b69%3A0xb87b60d391285c40!2sCervecer%C3%ADa%20Aitzane!5e0!3m2!1ses!2ses!4v1585839776805!5m2!1ses!2ses" width="600" height="450" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
			</div>
			
				

				<h3 id="listaOpiniones" style="font-family: 'Gotu', sans-serif; font-weight: bold; color:#2D333F; padding-top: 70px;">Opiniones</h3>
				<hr width="99%" class="my-3">

				
				##MARCA##
				<div class="card mt-3">
					<div class="card-header">
						<div class="d-flex justify-content-start mt-2">
							<span style = "color: #FFA500;"><i class="fas fa-user fa-x"></i></span>	
							<h5 class="text-center ml-3">##Username##</h5>
						</div>
					</div>
					<div class="d-inline-flex card-header">
						<h5 class="mr-3">##Titulo##</h5>
						<div align="center" class="stars my-0">
					        <i class="fa fa-star fa-1x" data-index="0" id="star1"></i>
					        <i class="fa fa-star fa-1x" data-index="1"></i>
					        <i class="fa fa-star fa-1x" data-index="2"></i>
					        <i class="fa fa-star fa-1x" data-index="3"></i>
					        <i class="fa fa-star fa-1x" data-index="4"></i>

			    		</div>
			    		<h5 class="ml-auto">##Fecha##</h5>
					</div>
					<div class="card-body">
						<div class="card-text font-weight-light font-italic">##Descripcion##</div>
					</div>
				</div>
				##MARCA##
			</div>

			<div class="col-4">
				<div class="card mx-auto" style="width: 400px;">
					<div class="card-header">
						<h1 class="text-center">Haz tu reserva</h1>
					</div>
					<div class="card-body">
						<form action="includes/reserve.php" method="POST" class="form-group" id="reserveForm" enctype="multipart/form-data">
							
							
							<div class="row mt-2 d-flex justify-content-center">
														
								<div id="datepicker" name="datepicker" class="block"></div>
								
								<div class="col-6">	
									<label for="NumeroPersonas">Numero Personas</label>
									<select id="cars" class="form-control" name="nPeople">
										<option>Num Personas</option>
										<option value="1">1 Persona</option>
										<option value="2">2 Personas</option>
										<option value="3">3 Personas</option>
										<option value="4">4 Personas</option>
										<option value="5">5 Personas</option>
										<option value="6">6 Personas</option>
										<option value="7">7 Personas</option>
										<option value="8">8 Personas</option>
									</select>					
								</div>
								
								<div class="col-6">
									<label for="Hora">Hora</label>
									<select id="hour" class="form-control" name="hour"></select>	
								</div>
							</div>
							<div class="mt-3 justify-content-center">
								<button type="submit" class="btn btn-primary btn-block">Buscar</button>	
							</div>
							
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	 <div id="my_mm" style="height:100mm;display:none"></div>


	<!-- JQUERY -->
	<script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>

	<!-- JQEURY UI JS -->
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

	<!-- SPANISH CALENDAR -->
	<script src="jquery/ui/datepicker-es.js"></script>

	<!-- BOOTSTRAP 4 JS -->
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

	<!-- SLICK JS -->
	<script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

	<!-- jQuery LightGallery -->
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.12/js/lightgallery-all.js"></script>

	<!-- jsPDF -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js" integrity="sha384-NaWTHo/8YCBYJ59830LTz/P4aQZK1sS0SneOgAvhsIl3zBu8r9RevNg5lHCHAuQ/" crossorigin="anonymous"></script>

	<!-- html2canvas -->
	<script type="text/javascript" src="js/html2canvas.min.js"></script>



	<style>
		.ui-widget {
			font-size: 1.5em;
			font-style: italic;
		}
	</style>  


	<script>

	 	$('.thumbnail-wrapper').slick({
  			slidesToShow: 4,
  			sliderToScroll: 1,
  			infinite: false,
			variableWidth: true,
			dots: true,
			arrows: true,
			nextArrow: $('.thumbnail-slider .next'),
			prevArrow: $('.thumbnail-slider .prev'),
  		});


  		var carousel = $('#carouselExampleInterval').carousel();

  		$('.thumbnail-slider .thumbnail-wrapper img').click(function() {

  			console.log($(this).attr("data-slick-index"));
			var x = $(this).attr("data-slick-index");
			
  			carousel.carousel(parseInt(x));
  		});

  		$('.thumbnail-wrapper').on('afterChange', function(slick, currentSlide){
  			
  			// console.log(slick);
  			var sliderCount = currentSlide['slideCount'];
  			var slidesToShow = $('.thumbnail-wrapper').get(0).slick.options.slidesToShow;
  			var currentSlide = currentSlide['currentSlide'];

  			if ( sliderCount - slidesToShow == currentSlide ) {
  				console.log('asd');
  				$('.thumbnail-slider .next').addClass('disabled-arrow');
  			} else {
  				$('.thumbnail-slider .next').removeClass('disabled-arrow');
  			}

  			if (currentSlide == 0) {
  				$('.thumbnail-slider .prev').addClass('disabled-arrow');	
  			} else {
  				$('.thumbnail-slider .prev').removeClass('disabled-arrow');	
  			}

		});
  		
  		$('#carouselExampleInterval').on('slide.bs.carousel', function (e) {
  			// console.log(e['to']);
  			$('.thumbnail-wrapper').slick('slickGoTo', e['to']);
		})

    	var $customEvents = $('.custom-events');
		$customEvents.lightGallery();	


		$('#jsPDF').on('click', function(e) {
			e.preventDefault();
						
			var content = $('.container-fluid').outerHTML;
			console.log(content);

			$.ajax({
				url: 'includes/html2pdf.php',
				method: 'POST',
				data: {data: content},
				success: function(response) {
					console.log(response);
				}
			});

		});


/*		$('#jsPDF').on('click', function(){

			html2canvas(document.querySelector('.container-fluid')).then(canvas => {
				
				var bodyHeightMm = Math.floor($('.container-fluid').height()/($('#my_mm').height()/100));
				var bodyWidthMm = Math.floor($('.container-fluid').width()/($('#my_mm').height()/100));

				let pdf = new jsPDF('p', 'mm', [$('.container-fluid').width(), $('.container-fluid').height()]);*/
				
				// var pdfPageHeight= pdf.internal.pageSize.height;
				// console.log(pdf.internal.pageSize.height);
				// console.log(pdf.internal.pageSize.width);				

				// pdf.addPage($('.container-fluid').width(), $('.container-fluid').height());
				// console.log(bodyHeightMm);
				// console.log(bodyWidthMm);
				
				// var pageHeightPx = $('body').height();
				// console.log();
				//pdf.internal.pageSize.getHeight();

				// console.log($('body').height());


				// Before adding new content
/*				y = 500 // Height position of new content
				if (y >= pageHeight)
				{
				  doc.addPage();
				  y = 0 // Restart height position
				}
*/

/*				pdf.addImage(canvas.toDataURL('image/png'), 'PNG', 10, 10, bodyWidthMm, bodyHeightMm);	
				
				pdf.save('test.pdf');
			});
		});
*/
		


	</script>

	<script src="js/reserve.js"></script>

</body>
</html>



<!-- Get actual date -->
<!-- https://stackoverflow.com/questions/1531093/how-do-i-get-the-current-date-in-javascript -->

<!-- Dinamic date dropdown -->
<!-- https://stackoverflow.com/questions/8918168/javascript-dynamic-time-drop-down -->